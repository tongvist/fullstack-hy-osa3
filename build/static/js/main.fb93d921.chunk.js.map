{"version":3,"sources":["components/Filter.js","components/PersonList.js","components/AddNew.js","services/phonebook.js","components/Notification.js","App.js","index.js"],"names":["Filter","handleChange","value","onChange","Person","id","name","number","handleDelete","onClick","PersonList","persons","filter","list","map","person","p","props","toLowerCase","includes","AddNew","handleSubmit","handleNumberChange","onSubmit","type","baseUrl","phonebook","getAll","axios","get","then","response","data","add","newPerson","post","remove","delete","update","updatedPerson","put","Notification","message","success","colorTheme","notificationStyle","color","background","border","padding","margin","width","borderRadius","style","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","nameFilter","setNameFilter","notificationMessage","setNotificationMessage","setSuccess","useEffect","contacts","catch","error","console","log","showNotification","actionSuccessful","setTimeout","e","target","preventDefault","found","find","window","confirm","reset","createdPerson","concat","personToDelete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fb93d921.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({handleChange, value}) => {\n    return (\n        <div>\n            Filter names: <input onChange={handleChange} value={value} />\n        </div>\n    );\n};\n\nexport default Filter;","import React from \"react\";\n\nconst Person = ({id, name, number, handleDelete}) => {\n    return (\n      <p>{name} {number} <button onClick={() => handleDelete(id)}>delete</button></p>\n    )\n}\n  \nconst PersonList = ({persons, filter, handleDelete}) => {\n    const list = persons.map(person => {\n        return <Person key={person.id} id={person.id} name={person.name} number={person.number} handleDelete={handleDelete}/>\n    });\n\n    return filter === '' ? \n        list : \n        list.filter(p => {\n        return p.props.name\n        .toLowerCase()\n        .includes(filter.toLowerCase());\n        });\n}\n\nexport default PersonList\n","import React from 'react';\n\nconst AddNew = ({handleSubmit, handleChange, handleNumberChange}) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        name: <input onChange={handleChange}/>\n      </div>\n      <div>\n        number: <input onChange={handleNumberChange}/>\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default AddNew;\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n    const request = axios.get(baseUrl);\n    return request.then(response => response.data);\n}\n\nconst add = newPerson =>Â {\n    const request = axios.post(baseUrl, newPerson);\n    return request.then(response => response.data);\n}\n\nconst remove = id => {\n    const request = axios.delete(`${baseUrl}/${id}`);\n    return request.then(response => id);\n}\n\nconst update = (updatedPerson) => {\n\n    const request = axios.put(`${baseUrl}/${updatedPerson.id}`, updatedPerson);\n    return request.then(response => response.data);\n}\n\nconst phonebook = { getAll, add, remove, update }\n\nexport default phonebook;","import React from 'react';\n\nconst Notification = ({message, success}) => {\n    if (success === null) {\n        return null;\n    }\n    \n    const colorTheme = success === true ? 'green' : 'red';\n    const notificationStyle = {\n        color: colorTheme,\n        background: 'lightgray',\n        border: `solid 2px ${colorTheme}`,\n        padding: 5,\n        margin: '20px 0',\n        width: 'fit-content',\n        borderRadius: 5\n    }\n\n    return message === null ? null : \n        (\n        <div style={notificationStyle}>\n            {message}\n        </div>\n    );\n};\n\nexport default Notification;","import React, { useEffect, useState } from 'react'\nimport Filter from './components/Filter';\nimport PersonList from './components/PersonList';\nimport AddNew from './components/AddNew';\nimport phonebook from './services/phonebook';\nimport Notification from './components/Notification';\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]);\n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber ] = useState('');\n  const [ nameFilter, setNameFilter ] = useState('');\n  const [ notificationMessage, setNotificationMessage ] = useState('');\n  const [ success, setSuccess ] = useState(null);\n\n  useEffect(() => {\n    phonebook\n      .getAll()\n      .then(contacts => {\n        setPersons(contacts);\n      })\n      .catch(error => console.log(error));\n  }, []);\n\n  const handleChange = (e) => {\n    const name = e.target.value;\n    setNewName(name);\n  }\n\n  const handleNumberChange = (e) => {\n    const number = e.target.value;\n    setNewNumber(number);\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const found = persons.find(person => person.name === newName);\n\n    if (found) {\n      const confirm = window.confirm(`Update number for ${found.name}?`);\n\n      if (!confirm) {\n        return;\n      }\n\n      phonebook.update({...found, number: newNumber})\n        .then(updatedPerson => {\n          setPersons(persons.map(person => person.id !== updatedPerson.id ? person : updatedPerson));\n          showNotification(true, `Updated contact ${updatedPerson.name}`);\n          setNewName('');\n          setNewNumber('');\n          e.target.reset();\n        })\n        .catch(error => {\n          \n          setPersons(persons.filter(person => person.id !== found.id));\n          showNotification(false, `Contact ${found.name} was already deleted from database, updating list...`);\n          setNewName('');\n          setNewNumber('');\n          e.target.reset();\n        });\n\n        return; \n    };\n\n    const newPerson = {\n      name: newName, \n      number: newNumber\n    }\n\n    phonebook\n      .add(newPerson)\n      .then(createdPerson => {\n        setPersons(persons.concat(createdPerson));\n        showNotification(true, `Added new contact: ${createdPerson.name}`);\n        setNewName('');\n        setNewNumber('');\n        e.target.reset();\n      })\n      .catch(error => console.log(error));\n  }\n\n  const handleFilter = (e) => {\n    setNameFilter(e.target.value);\n  }\n\n  const handleDelete = (id) => {\n    const personToDelete = persons.find(person => person.id === id);\n    const confirm = window.confirm(`Delete ${personToDelete.name}?`);\n\n    if (!confirm) {\n      return;\n    }\n\n    phonebook.remove(id)\n      .then(id => {\n        setPersons(persons.filter(person => person.id !== id));\n        showNotification(true, `Removed contact: ${personToDelete.name}`);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }\n\n  const showNotification = (actionSuccessful, message) => {\n    setSuccess(actionSuccessful);\n    setNotificationMessage(message);\n    setTimeout(() => {\n      setSuccess(null);\n      setNotificationMessage('');\n    }, 5000)\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n\n      <Notification message={notificationMessage} success={success}/>\n\n      <Filter handleChange={handleFilter} value={nameFilter}/>\n\n      <h2>Add new</h2>\n\n      <AddNew \n        handleSubmit={handleSubmit} \n        handleChange={handleChange} \n        handleNumberChange={handleNumberChange}\n      />\n\n      <h2>Numbers</h2>\n      \n      <PersonList persons={persons} filter={nameFilter} handleDelete={handleDelete}/>\n      \n    </div>\n  )\n\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}